{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\src\\\\components\\\\AppMenu.js\";\n\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport MetisMenu from 'metismenujs/dist/metismenujs';\nimport { initMenu, changeActiveMenuFromLocation } from '../redux/actions';\n\nvar MenuItemWithChildren = function MenuItemWithChildren(_ref) {\n  var item = _ref.item,\n      linkClassNames = _ref.linkClassNames,\n      subMenuClassNames = _ref.subMenuClassNames,\n      activatedMenuItemIds = _ref.activatedMenuItemIds;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames('side-nav-item', {\n      'mm-active': activatedMenuItemIds.indexOf(item.id) >= 0,\n      active: activatedMenuItemIds.indexOf(item.id) >= 0\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: classNames('has-arrow', 'side-sub-nav-link', linkClassNames),\n    \"aria-expanded\": activatedMenuItemIds.indexOf(item.id) >= 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  }, item.icon && /*#__PURE__*/React.createElement(\"i\", {\n    className: item.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 31\n    }\n  }), item.badge && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-\".concat(item.badge.variant, \" float-right\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 21\n    }\n  }, item.badge.text), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, \" \", item.name, \" \")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames(subMenuClassNames, 'mm-collapse', {\n      'mm-collapsed mm-show': activatedMenuItemIds.indexOf(item.id) >= 0\n    }),\n    \"aria-expanded\": activatedMenuItemIds.indexOf(item.id) >= 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, item.children.map(function (child, i) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }\n    }, child.children ? /*#__PURE__*/React.createElement(MenuItemWithChildren, {\n      item: child,\n      linkClassNames: \"\",\n      activatedMenuItemIds: activatedMenuItemIds,\n      subMenuClassNames: \"side-nav-third-level\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(MenuItem, {\n      item: child,\n      className: classNames({\n        'mm-active': activatedMenuItemIds.indexOf(child.id) >= 0\n      }),\n      linkClassName: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 33\n      }\n    }));\n  })));\n};\n\nvar MenuItem = function MenuItem(_ref2) {\n  var item = _ref2.item,\n      className = _ref2.className,\n      linkClassName = _ref2.linkClassName;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames('side-nav-item', className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItemLink, {\n    item: item,\n    className: linkClassName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar MenuItemLink = function MenuItemLink(_ref3) {\n  var item = _ref3.item,\n      className = _ref3.className;\n  return /*#__PURE__*/React.createElement(Link, {\n    to: item.path,\n    className: classNames('side-nav-link-ref', 'side-sub-nav-link', className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, item.icon && /*#__PURE__*/React.createElement(\"i\", {\n    className: item.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 27\n    }\n  }), item.badge && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-\".concat(item.badge.variant, \" float-right\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 28\n    }\n  }, item.badge.text), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \" \", item.name, \" \"));\n};\n/**\n * Renders the application menu\n */\n\n\nvar AppMenu = /*#__PURE__*/function (_Component) {\n  _inherits(AppMenu, _Component);\n\n  var _super = _createSuper(AppMenu);\n\n  function AppMenu() {\n    var _this2;\n\n    _classCallCheck(this, AppMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.menuRef = null;\n    _this2.openedMenuItems = [];\n\n    _this2.componentDidMount = function () {\n      if (!_this2.props.menu.menuItems) _this2.props.initMenu();else _this2.initMenu();\n\n      _this2.props.history.listen(function (location, action) {\n        // hide menus in mobile\n        if (document.body) {\n          document.body.classList.remove('sidebar-enable');\n        }\n\n        if (_this2.menuRef && _this2.openedMenuItems && _this2.openedMenuItems.length) {\n          var _iterator = _createForOfIteratorHelper(_this2.openedMenuItems),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var el = _step.value;\n\n              _this2.menuRef.hide(el);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          _this2.openedMenuItems = [];\n        }\n\n        _this2.props.changeActiveMenuFromLocation();\n      });\n    };\n\n    _this2.componentDidUpdate = function (prevProps) {\n      if (!prevProps.menu.menuItems || prevProps.menu.menuItems && prevProps.menu.menuItems !== _this2.props.menu.menuItems) {\n        _this2.initMenu();\n      }\n\n      if (!_this2.props.menu.activatedMenuItemIds) {\n        _this2.props.changeActiveMenuFromLocation();\n      }\n    };\n\n    return _this2;\n  }\n\n  _createClass(AppMenu, [{\n    key: \"initMenu\",\n    value: function initMenu() {\n      var _this3 = this;\n\n      if (this.props.mode === 'horizontal') {\n        var menuRef = new MetisMenu('#menu-bar').on('shown.metisMenu', function (event) {\n          _this3.openedMenuItems.push(event.detail.shownElement);\n\n          var menuClick = function menuClick(e) {\n            if (!event.target.contains(e.target)) {\n              menuRef.hide(event.detail.shownElement);\n              window.removeEventListener('click', menuClick);\n            }\n          };\n\n          window.addEventListener('click', menuClick);\n        });\n        this.menuRef = menuRef;\n      } else {\n        this.menuRef = new MetisMenu('#menu-bar');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var isHorizontal = this.props.mode === 'horizontal';\n      var activatedKeys = isHorizontal ? [] : this.props.menu ? this.props.menu.activatedMenuItemIds ? this.props.menu.activatedMenuItemIds : [] : [] || [];\n      /**\n       * Horizontal layout - We are controlling how many menu items can be displayed in it\n       */\n\n      var menuItems = this.props.menu && this.props.menu.menuItems ? this.props.menu.menuItems : [];\n      var defaultDisplayedItems = window.screen.width > 1366 ? 7 : 5;\n\n      if (isHorizontal && menuItems.length > defaultDisplayedItems) {\n        var displayedItems = menuItems.slice(0, defaultDisplayedItems);\n        var otherItems = {\n          id: menuItems.length + 1,\n          path: '/',\n          name: 'More',\n          icon: 'uil-ellipsis-h',\n          children: menuItems.slice(7, menuItems.length)\n        };\n        menuItems = [].concat(_toConsumableArray(displayedItems), [otherItems]);\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames({\n          'topbar-nav': isHorizontal\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, this.props.menu && menuItems && menuItems.length ? /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"metismenu side-nav\",\n        id: \"menu-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, menuItems.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          key: item.id,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 41\n          }\n        }, item.header && !isHorizontal && /*#__PURE__*/React.createElement(\"li\", {\n          className: \"side-nav-title side-nav-item\",\n          key: i + '-el',\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 49\n          }\n        }, item.header), item.children ? /*#__PURE__*/React.createElement(MenuItemWithChildren, {\n          item: item,\n          subMenuClassNames: \"side-nav-second-level\",\n          activatedMenuItemIds: activatedKeys,\n          linkClassNames: \"side-nav-link\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 49\n          }\n        }) : /*#__PURE__*/React.createElement(MenuItem, {\n          item: item,\n          className: classNames({\n            'mm-active': activatedKeys.indexOf(item.id) >= 0\n          }),\n          linkClassName: \"side-nav-link\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 49\n          }\n        })));\n      })) : null));\n    }\n  }]);\n\n  return AppMenu;\n}(Component);\n\nAppMenu.defaultProps = {\n  mode: 'vertical'\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    menu: state.AppMenu\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  initMenu,\n  changeActiveMenuFromLocation\n})(AppMenu));","map":{"version":3,"sources":["C:/Users/songt/PycharmProjects/PV2EV_Dash/src/components/AppMenu.js"],"names":["React","Component","Link","withRouter","connect","PropTypes","classNames","MetisMenu","initMenu","changeActiveMenuFromLocation","MenuItemWithChildren","item","linkClassNames","subMenuClassNames","activatedMenuItemIds","indexOf","id","active","icon","badge","variant","text","name","children","map","child","i","MenuItem","className","linkClassName","MenuItemLink","path","AppMenu","menuRef","openedMenuItems","componentDidMount","props","menu","menuItems","history","listen","location","action","document","body","classList","remove","length","el","hide","componentDidUpdate","prevProps","mode","on","event","push","detail","shownElement","menuClick","e","target","contains","window","removeEventListener","addEventListener","isHorizontal","activatedKeys","defaultDisplayedItems","screen","width","displayedItems","slice","otherItems","header","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport MetisMenu from 'metismenujs/dist/metismenujs';\n\nimport { initMenu, changeActiveMenuFromLocation } from '../redux/actions';\n\nconst MenuItemWithChildren = ({ item, linkClassNames, subMenuClassNames, activatedMenuItemIds }) => {\n    return (\n        <li\n            className={classNames('side-nav-item', {\n                'mm-active': activatedMenuItemIds.indexOf(item.id) >= 0,\n                active: activatedMenuItemIds.indexOf(item.id) >= 0,\n            })}>\n            <Link\n                to=\"#\"\n                className={classNames('has-arrow', 'side-sub-nav-link', linkClassNames)}\n                aria-expanded={activatedMenuItemIds.indexOf(item.id) >= 0}>\n                {item.icon && <i className={item.icon}></i>}\n                {item.badge && (\n                    <span className={`badge badge-${item.badge.variant} float-right`}>{item.badge.text}</span>\n                )}\n                <span> {item.name} </span>\n            </Link>\n\n            <ul\n                className={classNames(subMenuClassNames, 'mm-collapse', {\n                    'mm-collapsed mm-show': activatedMenuItemIds.indexOf(item.id) >= 0,\n                })}\n                aria-expanded={activatedMenuItemIds.indexOf(item.id) >= 0}>\n                {item.children.map((child, i) => {\n                    return (\n                        <React.Fragment key={i}>\n                            {child.children ? (\n                                <MenuItemWithChildren\n                                    item={child}\n                                    linkClassNames=\"\"\n                                    activatedMenuItemIds={activatedMenuItemIds}\n                                    subMenuClassNames=\"side-nav-third-level\"\n                                />\n                            ) : (\n                                <MenuItem\n                                    item={child}\n                                    className={classNames({ 'mm-active': activatedMenuItemIds.indexOf(child.id) >= 0 })}\n                                    linkClassName=\"\"\n                                />\n                            )}\n                        </React.Fragment>\n                    );\n                })}\n            </ul>\n        </li>\n    );\n};\n\nconst MenuItem = ({ item, className, linkClassName }) => {\n    return (\n        <li className={classNames('side-nav-item', className)}>\n            <MenuItemLink item={item} className={linkClassName} />\n        </li>\n    );\n};\n\nconst MenuItemLink = ({ item, className }) => {\n    return (\n        <Link to={item.path} className={classNames('side-nav-link-ref', 'side-sub-nav-link', className)}>\n            {item.icon && <i className={item.icon}></i>}\n            {item.badge && <span className={`badge badge-${item.badge.variant} float-right`}>{item.badge.text}</span>}\n            <span> {item.name} </span>\n        </Link>\n    );\n};\n\n/**\n * Renders the application menu\n */\ntype Props = {\n    initMenu: PropTypes.func,\n    changeActiveMenuFromLocation: PropTypes.func,\n    menu: PropTypes.object,\n    mode: string,\n    history: PropTypes.object,\n};\nclass AppMenu extends Component<Props> {\n    menuRef = null;\n    openedMenuItems = [];\n\n    static defaultProps = {\n        mode: 'vertical',\n    };\n\n    componentDidMount = () => {\n        if (!this.props.menu.menuItems) this.props.initMenu();\n        else this.initMenu();\n\n        this.props.history.listen((location, action) => {\n            // hide menus in mobile\n            if (document.body) {\n                document.body.classList.remove('sidebar-enable');\n            }\n\n            if (this.menuRef && this.openedMenuItems && this.openedMenuItems.length) {\n                for (const el of this.openedMenuItems) {\n                    this.menuRef.hide(el);\n                }\n                this.openedMenuItems = [];\n            }\n            this.props.changeActiveMenuFromLocation();\n        });\n    };\n\n    componentDidUpdate = prevProps => {\n        if (\n            !prevProps.menu.menuItems ||\n            (prevProps.menu.menuItems && prevProps.menu.menuItems !== this.props.menu.menuItems)\n        ) {\n            this.initMenu();\n        }\n\n        if (!this.props.menu.activatedMenuItemIds) {\n            this.props.changeActiveMenuFromLocation();\n        }\n    };\n\n    initMenu() {\n        if (this.props.mode === 'horizontal') {\n            const menuRef = new MetisMenu('#menu-bar').on('shown.metisMenu', event => {\n                this.openedMenuItems.push(event.detail.shownElement);\n                const menuClick = e => {\n                    if (!event.target.contains(e.target)) {\n                        menuRef.hide(event.detail.shownElement);\n                        window.removeEventListener('click', menuClick);\n                    }\n                };\n                window.addEventListener('click', menuClick);\n            });\n            this.menuRef = menuRef;\n        } else {\n            this.menuRef = new MetisMenu('#menu-bar');\n        }\n    }\n\n    render() {\n        const isHorizontal = this.props.mode === 'horizontal';\n        var activatedKeys = isHorizontal\n            ? []\n            : this.props.menu\n            ? this.props.menu.activatedMenuItemIds\n                ? this.props.menu.activatedMenuItemIds\n                : []\n            : [] || [];\n\n        /**\n         * Horizontal layout - We are controlling how many menu items can be displayed in it\n         */\n        let menuItems = this.props.menu && this.props.menu.menuItems ? this.props.menu.menuItems : [];\n        const defaultDisplayedItems = window.screen.width > 1366 ? 7 : 5;\n\n        if (isHorizontal && menuItems.length > defaultDisplayedItems) {\n            const displayedItems = menuItems.slice(0, defaultDisplayedItems);\n            const otherItems = {\n                id: menuItems.length + 1,\n                path: '/',\n                name: 'More',\n                icon: 'uil-ellipsis-h',\n                children: menuItems.slice(7, menuItems.length),\n            };\n            menuItems = [...displayedItems, otherItems];\n        }\n\n        return (\n            <React.Fragment>\n                <div className={classNames({ 'topbar-nav': isHorizontal })}>\n                    {this.props.menu && menuItems && menuItems.length ? (\n                        <ul className=\"metismenu side-nav\" id=\"menu-bar\">\n                            {menuItems.map((item, i) => {\n                                return (\n                                    <React.Fragment key={item.id}>\n                                        <React.Fragment>\n                                            {item.header && !isHorizontal && (\n                                                <li className=\"side-nav-title side-nav-item\" key={i + '-el'}>\n                                                    {item.header}\n                                                </li>\n                                            )}\n\n                                            {item.children ? (\n                                                <MenuItemWithChildren\n                                                    item={item}\n                                                    subMenuClassNames=\"side-nav-second-level\"\n                                                    activatedMenuItemIds={activatedKeys}\n                                                    linkClassNames=\"side-nav-link\"\n                                                />\n                                            ) : (\n                                                <MenuItem\n                                                    item={item}\n                                                    className={classNames({\n                                                        'mm-active': activatedKeys.indexOf(item.id) >= 0,\n                                                    })}\n                                                    linkClassName=\"side-nav-link\"\n                                                />\n                                            )}\n                                        </React.Fragment>\n                                    </React.Fragment>\n                                );\n                            })}\n                        </ul>\n                    ) : null}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        menu: state.AppMenu,\n    };\n};\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        { initMenu, changeActiveMenuFromLocation }\n    )(AppMenu)\n);\n"]},"metadata":{},"sourceType":"module"}