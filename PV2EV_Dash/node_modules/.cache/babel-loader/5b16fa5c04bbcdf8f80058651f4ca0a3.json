{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\songt\\\\PycharmProjects\\\\PV2EV_Dash\\\\src\\\\routes\\\\Routes.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { allFlattenRoutes as routes } from './index';\nimport { isUserAuthenticated } from '../helpers/authUtils';\nimport * as layoutConstants from '../constants/layout'; // All layouts/containers\n\nimport AuthLayout from '../layouts/Auth';\nimport VerticalLayout from '../layouts/Vertical';\nimport HorizontalLayout from '../layouts/Horizontal';\nimport DetachedLayout from '../layouts/Detached';\n\nvar Routes = /*#__PURE__*/function (_Component) {\n  _inherits(Routes, _Component);\n\n  var _super = _createSuper(Routes);\n\n  function Routes() {\n    var _this;\n\n    _classCallCheck(this, Routes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.getLayout = function () {\n      if (!isUserAuthenticated()) return AuthLayout;\n      var layoutCls = VerticalLayout;\n\n      switch (_this.props.layout.layoutType) {\n        case layoutConstants.LAYOUT_HORIZONTAL:\n          layoutCls = HorizontalLayout;\n          break;\n\n        case layoutConstants.LAYOUT_DETACHED:\n          layoutCls = DetachedLayout;\n          break;\n\n        default:\n          layoutCls = VerticalLayout;\n          break;\n      }\n\n      return layoutCls;\n    };\n\n    return _this;\n  }\n\n  _createClass(Routes, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var oldLayout = _objectSpread({}, this.props.layout);\n\n      delete oldLayout.showRightSidebar;\n\n      var newLayout = _objectSpread({}, nextProps.layout);\n\n      delete newLayout.showRightSidebar;\n      return JSON.stringify(oldLayout) !== JSON.stringify(newLayout) || JSON.stringify(this.props.user) !== JSON.stringify(nextProps.user);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var Layout = this.getLayout(); // rendering the router with layout\n\n      return /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Layout, Object.assign({}, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, routes.map(function (route, index) {\n        return !route.children && /*#__PURE__*/React.createElement(route.route, {\n          key: index,\n          path: route.path,\n          roles: route.roles,\n          exact: route.exact,\n          component: route.component,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 37\n          }\n        });\n      }))));\n    }\n  }]);\n\n  return Routes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    layout: state.Layout,\n    user: state.Auth.user\n  };\n};\n\nexport default connect(mapStateToProps, null)(Routes);","map":{"version":3,"sources":["C:/Users/songt/PycharmProjects/PV2EV_Dash/src/routes/Routes.js"],"names":["React","Component","BrowserRouter","Switch","connect","allFlattenRoutes","routes","isUserAuthenticated","layoutConstants","AuthLayout","VerticalLayout","HorizontalLayout","DetachedLayout","Routes","getLayout","layoutCls","props","layout","layoutType","LAYOUT_HORIZONTAL","LAYOUT_DETACHED","nextProps","nextState","oldLayout","showRightSidebar","newLayout","JSON","stringify","user","Layout","map","route","index","children","path","roles","exact","component","mapStateToProps","state","Auth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,EAAwBC,MAAxB,QAAsC,kBAAtC;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,gBAAgB,IAAIC,MAA7B,QAA2C,SAA3C;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,OAAO,KAAKC,eAAZ,MAAiC,qBAAjC,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,cAAP,MAA2B,qBAA3B;;IAGMC,M;;;;;;;;;;;;;;;;UAEFC,S,GAAY,YAAM;AACd,UAAI,CAACP,mBAAmB,EAAxB,EAA4B,OAAOE,UAAP;AAE5B,UAAIM,SAAS,GAAGL,cAAhB;;AAEA,cAAQ,MAAKM,KAAL,CAAWC,MAAX,CAAkBC,UAA1B;AACI,aAAKV,eAAe,CAACW,iBAArB;AACIJ,UAAAA,SAAS,GAAGJ,gBAAZ;AACA;;AACJ,aAAKH,eAAe,CAACY,eAArB;AACIL,UAAAA,SAAS,GAAGH,cAAZ;AACA;;AACJ;AACIG,UAAAA,SAAS,GAAGL,cAAZ;AACA;AATR;;AAWA,aAAOK,SAAP;AACH,K;;;;;;;0CAEqBM,S,EAAWC,S,EAAW;AACxC,UAAIC,SAAS,qBAAQ,KAAKP,KAAL,CAAWC,MAAnB,CAAb;;AACA,aAAOM,SAAS,CAACC,gBAAjB;;AACA,UAAIC,SAAS,qBAAQJ,SAAS,CAACJ,MAAlB,CAAb;;AACA,aAAOQ,SAAS,CAACD,gBAAjB;AACA,aACIE,IAAI,CAACC,SAAL,CAAeJ,SAAf,MAA8BG,IAAI,CAACC,SAAL,CAAeF,SAAf,CAA9B,IACAC,IAAI,CAACC,SAAL,CAAe,KAAKX,KAAL,CAAWY,IAA1B,MAAoCF,IAAI,CAACC,SAAL,CAAeN,SAAS,CAACO,IAAzB,CAFxC;AAIH;;;6BAEQ;AAAA;;AACL,UAAMC,MAAM,GAAG,KAAKf,SAAL,EAAf,CADK,CAEL;;AACA,0BACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD,oBAAY,KAAKE,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKV,MAAM,CAACwB,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAC1B,eACI,CAACD,KAAK,CAACE,QAAP,iBACI,oBAAC,KAAD,CAAO,KAAP;AACI,UAAA,GAAG,EAAED,KADT;AAEI,UAAA,IAAI,EAAED,KAAK,CAACG,IAFhB;AAGI,UAAA,KAAK,EAAEH,KAAK,CAACI,KAHjB;AAII,UAAA,KAAK,EAAEJ,KAAK,CAACK,KAJjB;AAKI,UAAA,SAAS,EAAEL,KAAK,CAACM,SALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFR;AAUH,OAXA,CADL,CADJ,CADJ,CADJ;AAoBH;;;;EAvDgBpC,S;;AA0DrB,IAAMqC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC7B,SAAO;AACHtB,IAAAA,MAAM,EAAEsB,KAAK,CAACV,MADX;AAEHD,IAAAA,IAAI,EAAEW,KAAK,CAACC,IAAN,CAAWZ;AAFd,GAAP;AAIH,CALD;;AAOA,eAAexB,OAAO,CAClBkC,eADkB,EAElB,IAFkB,CAAP,CAGbzB,MAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { allFlattenRoutes as routes } from './index';\r\nimport { isUserAuthenticated } from '../helpers/authUtils';\r\nimport * as layoutConstants from '../constants/layout';\r\n\r\n// All layouts/containers\r\nimport AuthLayout from '../layouts/Auth';\r\nimport VerticalLayout from '../layouts/Vertical';\r\nimport HorizontalLayout from '../layouts/Horizontal';\r\nimport DetachedLayout from '../layouts/Detached';\r\n\r\n\r\nclass Routes extends Component {\r\n    // returns the layout\r\n    getLayout = () => {\r\n        if (!isUserAuthenticated()) return AuthLayout;\r\n\r\n        let layoutCls = VerticalLayout;\r\n\r\n        switch (this.props.layout.layoutType) {\r\n            case layoutConstants.LAYOUT_HORIZONTAL:\r\n                layoutCls = HorizontalLayout;\r\n                break;\r\n            case layoutConstants.LAYOUT_DETACHED:\r\n                layoutCls = DetachedLayout;\r\n                break;\r\n            default:\r\n                layoutCls = VerticalLayout;\r\n                break;\r\n        }\r\n        return layoutCls;\r\n    };\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        let oldLayout = { ...this.props.layout };\r\n        delete oldLayout.showRightSidebar;\r\n        let newLayout = { ...nextProps.layout };\r\n        delete newLayout.showRightSidebar;\r\n        return (\r\n            JSON.stringify(oldLayout) !== JSON.stringify(newLayout) ||\r\n            JSON.stringify(this.props.user) !== JSON.stringify(nextProps.user)\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const Layout = this.getLayout();\r\n        // rendering the router with layout\r\n        return (\r\n            <BrowserRouter>\r\n                <Layout {...this.props}>\r\n                    <Switch>\r\n                        {routes.map((route, index) => {\r\n                            return (\r\n                                !route.children && (\r\n                                    <route.route\r\n                                        key={index}\r\n                                        path={route.path}\r\n                                        roles={route.roles}\r\n                                        exact={route.exact}\r\n                                        component={route.component}></route.route>\r\n                                )\r\n                            );\r\n                        })}\r\n                    </Switch>\r\n                </Layout>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        layout: state.Layout,\r\n        user: state.Auth.user,\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(Routes);\r\n"]},"metadata":{},"sourceType":"module"}