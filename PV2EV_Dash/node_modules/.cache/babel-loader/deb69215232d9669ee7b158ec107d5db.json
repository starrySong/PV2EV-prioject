{"ast":null,"code":"export function $(expr, con) {\n  return typeof expr === 'string' ? (con || document).querySelector(expr) : expr || null;\n}\nexport function createSVG(tag, attrs) {\n  var elem = document.createElementNS('http://www.w3.org/2000/svg', tag);\n\n  for (var attr in attrs) {\n    if (attr === 'append_to') {\n      var parent = attrs.append_to;\n      parent.appendChild(elem);\n    } else if (attr === 'innerHTML') {\n      elem.innerHTML = attrs.innerHTML;\n    } else {\n      elem.setAttribute(attr, attrs[attr]);\n    }\n  }\n\n  return elem;\n}\nexport function animateSVG(svgElement, attr, from, to) {\n  var animatedSvgElement = getAnimationElement(svgElement, attr, from, to);\n\n  if (animatedSvgElement === svgElement) {\n    // triggered 2nd time programmatically\n    // trigger artificial click event\n    var event = document.createEvent('HTMLEvents');\n    event.initEvent('click', true, true);\n    event.eventName = 'click';\n    animatedSvgElement.dispatchEvent(event);\n  }\n}\n\nfunction getAnimationElement(svgElement, attr, from, to) {\n  var dur = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '0.4s';\n  var begin = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '0.1s';\n  var animEl = svgElement.querySelector('animate');\n\n  if (animEl) {\n    $.attr(animEl, {\n      attributeName: attr,\n      from,\n      to,\n      dur,\n      begin: 'click + ' + begin // artificial click\n\n    });\n    return svgElement;\n  }\n\n  var animateElement = createSVG('animate', {\n    attributeName: attr,\n    from,\n    to,\n    dur,\n    begin,\n    calcMode: 'spline',\n    values: from + ';' + to,\n    keyTimes: '0; 1',\n    keySplines: cubic_bezier('ease-out')\n  });\n  svgElement.appendChild(animateElement);\n  return svgElement;\n}\n\nfunction cubic_bezier(name) {\n  return {\n    ease: '.25 .1 .25 1',\n    linear: '0 0 1 1',\n    'ease-in': '.42 0 1 1',\n    'ease-out': '0 0 .58 1',\n    'ease-in-out': '.42 0 .58 1'\n  }[name];\n}\n\n$.on = function (element, event, selector, callback) {\n  if (!callback) {\n    callback = selector;\n    $.bind(element, event, callback);\n  } else {\n    $.delegate(element, event, selector, callback);\n  }\n};\n\n$.off = function (element, event, handler) {\n  element.removeEventListener(event, handler);\n};\n\n$.bind = function (element, event, callback) {\n  event.split(/\\s+/).forEach(function (event) {\n    element.addEventListener(event, callback);\n  });\n};\n\n$.delegate = function (element, event, selector, callback) {\n  element.addEventListener(event, function (e) {\n    var delegatedTarget = e.target.closest(selector);\n\n    if (delegatedTarget) {\n      e.delegatedTarget = delegatedTarget;\n      callback.call(this, e, delegatedTarget);\n    }\n  });\n};\n\n$.closest = function (selector, element) {\n  if (!element) return null;\n\n  if (element.matches(selector)) {\n    return element;\n  }\n\n  return $.closest(selector, element.parentNode);\n};\n\n$.attr = function (element, attr, value) {\n  if (!value && typeof attr === 'string') {\n    return element.getAttribute(attr);\n  }\n\n  if (typeof attr === 'object') {\n    for (var key in attr) {\n      $.attr(element, key, attr[key]);\n    }\n\n    return;\n  }\n\n  element.setAttribute(attr, value);\n};","map":{"version":3,"sources":["C:/Users/songt/PycharmProjects/PV2EV_Dash/node_modules/frappe-gantt/src/svg_utils.js"],"names":["$","expr","con","document","querySelector","createSVG","tag","attrs","elem","createElementNS","attr","parent","append_to","appendChild","innerHTML","setAttribute","animateSVG","svgElement","from","to","animatedSvgElement","getAnimationElement","event","createEvent","initEvent","eventName","dispatchEvent","dur","begin","animEl","attributeName","animateElement","calcMode","values","keyTimes","keySplines","cubic_bezier","name","ease","linear","on","element","selector","callback","bind","delegate","off","handler","removeEventListener","split","forEach","addEventListener","e","delegatedTarget","target","closest","call","matches","parentNode","value","getAttribute","key"],"mappings":"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","sourcesContent":["export function $(expr, con) {\n    return typeof expr === 'string'\n        ? (con || document).querySelector(expr)\n        : expr || null;\n}\n\nexport function createSVG(tag, attrs) {\n    const elem = document.createElementNS('http://www.w3.org/2000/svg', tag);\n    for (let attr in attrs) {\n        if (attr === 'append_to') {\n            const parent = attrs.append_to;\n            parent.appendChild(elem);\n        } else if (attr === 'innerHTML') {\n            elem.innerHTML = attrs.innerHTML;\n        } else {\n            elem.setAttribute(attr, attrs[attr]);\n        }\n    }\n    return elem;\n}\n\nexport function animateSVG(svgElement, attr, from, to) {\n    const animatedSvgElement = getAnimationElement(svgElement, attr, from, to);\n\n    if (animatedSvgElement === svgElement) {\n        // triggered 2nd time programmatically\n        // trigger artificial click event\n        const event = document.createEvent('HTMLEvents');\n        event.initEvent('click', true, true);\n        event.eventName = 'click';\n        animatedSvgElement.dispatchEvent(event);\n    }\n}\n\nfunction getAnimationElement(\n    svgElement,\n    attr,\n    from,\n    to,\n    dur = '0.4s',\n    begin = '0.1s'\n) {\n    const animEl = svgElement.querySelector('animate');\n    if (animEl) {\n        $.attr(animEl, {\n            attributeName: attr,\n            from,\n            to,\n            dur,\n            begin: 'click + ' + begin // artificial click\n        });\n        return svgElement;\n    }\n\n    const animateElement = createSVG('animate', {\n        attributeName: attr,\n        from,\n        to,\n        dur,\n        begin,\n        calcMode: 'spline',\n        values: from + ';' + to,\n        keyTimes: '0; 1',\n        keySplines: cubic_bezier('ease-out')\n    });\n    svgElement.appendChild(animateElement);\n\n    return svgElement;\n}\n\nfunction cubic_bezier(name) {\n    return {\n        ease: '.25 .1 .25 1',\n        linear: '0 0 1 1',\n        'ease-in': '.42 0 1 1',\n        'ease-out': '0 0 .58 1',\n        'ease-in-out': '.42 0 .58 1'\n    }[name];\n}\n\n$.on = (element, event, selector, callback) => {\n    if (!callback) {\n        callback = selector;\n        $.bind(element, event, callback);\n    } else {\n        $.delegate(element, event, selector, callback);\n    }\n};\n\n$.off = (element, event, handler) => {\n    element.removeEventListener(event, handler);\n};\n\n$.bind = (element, event, callback) => {\n    event.split(/\\s+/).forEach(function(event) {\n        element.addEventListener(event, callback);\n    });\n};\n\n$.delegate = (element, event, selector, callback) => {\n    element.addEventListener(event, function(e) {\n        const delegatedTarget = e.target.closest(selector);\n        if (delegatedTarget) {\n            e.delegatedTarget = delegatedTarget;\n            callback.call(this, e, delegatedTarget);\n        }\n    });\n};\n\n$.closest = (selector, element) => {\n    if (!element) return null;\n\n    if (element.matches(selector)) {\n        return element;\n    }\n\n    return $.closest(selector, element.parentNode);\n};\n\n$.attr = (element, attr, value) => {\n    if (!value && typeof attr === 'string') {\n        return element.getAttribute(attr);\n    }\n\n    if (typeof attr === 'object') {\n        for (let key in attr) {\n            $.attr(element, key, attr[key]);\n        }\n        return;\n    }\n\n    element.setAttribute(attr, value);\n};\n"]},"metadata":{},"sourceType":"module"}